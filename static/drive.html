<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Drive</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.png">
  <script src="js/socket.io.min.js"></script>
  <script src="messages.js"></script>
  <script src="js/joystick.js"></script>
</head>
  <body>
    <div id="joystick-container" style="position: relative; width: 640px; height: 480px;">
      <img src="camera.mjpg" id="camera-feed"
          style="width: 100%; height: 100%; display: block;">
      <canvas id="joystick"
              style="position: absolute; top: 0; left: 0;"></canvas>
    </div>
    <div class="rcorners2">
          <p class="meas2">Map XYZ (m)</p>
          <span class="value2">(</span>
          <span class="value2" id="mf2_MapLocalX">- - -</span>     <span class="value2">,</span>
          <span class="value2" id="mf2_MapLocalY">- - -</span>     <span class="value2">,</span>
          <span class="value2" id="mf2_MapLocalZ">- - -</span>     <span class="value2">)</span>
    </div>

<script defer>
    function onMotorData(data) {
        updateId(data)
    }

    window.addEventListener("load", function() {
        startSocket('motor', onMotorData)
        startSocket('nav-data-192.168.196.147', onMotorData) // TODO: sort out IP address
        initJoystick(socket)
    });

  </script>
</body>
</html>